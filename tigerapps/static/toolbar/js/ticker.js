(function(){if(typeof jQuery!='function'){var jQuery=document.createElement('script');jQuery.type='text/javascript';jQuery.src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(jQuery);jQuery.onload=function(){init_twitter_bar();}
jQuery.onreadystatechange=function(){if((this.readyState=='loaded'||this.readyState=='complete')&&(typeof window.XMLHttpRequest != 'undefined'&&(navigator.appVersion.indexOf("MSIE 7")==-1))){init_twitter_bar();}}}
var style = "#twitter-ticker-hide {position:absolute;top:30px;right:20px;cursor:pointer;font:normal 12px/18px Helvetica, Arial, sans-serif;color:#ffffff;background-color:#000000;padding:0px 4px 1px 4px;margin:0px;border-bottom-right-radius:4px;border-bottom-left-radius:4px; -moz-border-radius-bottomleft:4px;-moz-border-radius-bottomright:4px;-webkit-border-bottom-right-radius:4px;-webkit-border-bottom-left-radius:4px;}#twitter-ticker-offset {height:30px;display:block;}#twitter-ticker-bar * {padding:0px;margin:0px;font:normal 12px Arial, sans-serif;border:0px;}#twitter-ticker-bar {height:28px;background-color:#161616;background:-moz-linear-gradient(top, rgb(38, 38, 38), rgb(2, 2, 2));background:-webkit-gradient(linear, left top, left bottom, color-stop(0, rgb(38, 38, 38)), color-stop(1, rgb(2, 2, 2)));border-top:1px solid #3c3c3c;border-bottom:1px solid #1c1c1c;position:absolute;top:0px;left:0px;box-shadow:-4px 2px 4px rgba(255, 255, 255, 0.8);-moz-box-shadow:-4px 2px 4px rgba(255, 255, 255, 0.8);-webkit-box-shadow:-4px 2px 4px rgba(255, 255, 255, 0.8);}#twitter-ticker-bar a.logo {height:28px;}#twitter-ticker-bar img {position:absolute;padding:3px 0px 5px 10px;background-color:#000000;opacity:1.0;z-index:5;}#twitter-ticker-bar img:hover {opacity:0.9;}#twitter-ticker-bar div.border-left {height:28px;width:30px;background:url('http://twitcker.com/media/images/ticker-borders.png') no-repeat left top;position:absolute;top:0px;left:85px;z-index:4;}#twitter-ticker-bar div.border-right {height:28px;width:30px;background:url('http://twitcker.com/media/images/ticker-borders.png') no-repeat left bottom;position:absolute;top:0px;right:0px;z-index:4;}#twitter-ticker-bar div.box {display:inline-block;background-color:#82a0af;background:-moz-linear-gradient(top, rgb(152, 176, 188), rgb(110, 148, 166));background:-webkit-gradient(linear, left top, left bottom, color-stop(0, rgb(152, 176, 188)), color-stop(1, rgb(110, 148, 166)));padding:2px 0px;margin:3px 11px 0px 0px;border-bottom:1px solid #a0b8c4;position:relative;z-index:2;border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;}#twitter-ticker-bar div.box a {color:#0F191E;padding:0px 8px;font:normal 12px/15px Arial, sans-serif;text-shadow:0px 1px 1px #AEC2CC;text-decoration:none;}#twitter-ticker-bar div.box a:hover {text-decoration:none;}";var css=document.createElement('style');css.type='text/css';css.setAttribute('type','text/css');if(css.styleSheet){css.styleSheet.cssText=style;}else{css.appendChild(document.createTextNode(style));}(document.getElementsByTagName('head')[0]).appendChild(css);})();
function init_twitter_bar(){(function($){$.fn.marquee=function(klass){var newMarquee=[],last=this.length;function getReset(newDir,marqueeRedux,marqueeState){var behavior=marqueeState.behavior,width=marqueeState.width,dir=marqueeState.dir;var r=0;if(behavior=='alternate'){r=newDir==1?marqueeRedux[marqueeState.widthAxis]-(width*2):width;}else if(behavior=='slide'){if(newDir==-1){r=dir==-1?marqueeRedux[marqueeState.widthAxis]:width;}else{r=dir==-1?marqueeRedux[marqueeState.widthAxis]-(width*2):0;}}else{r=newDir==-1?marqueeRedux[marqueeState.widthAxis]:0;} return r;}function animateMarquee(){var i=newMarquee.length,marqueeRedux=null,$marqueeRedux=null,marqueeState={},newMarqueeList=[],hitedge=false;while(i--){marqueeRedux=newMarquee[i];$marqueeRedux=$(marqueeRedux);marqueeState=$marqueeRedux.data('marqueeState');if($marqueeRedux.data('paused')!==true){marqueeRedux[marqueeState.axis]+=(marqueeState.scrollamount*marqueeState.dir);hitedge=marqueeState.dir==-1?marqueeRedux[marqueeState.axis]<=getReset(marqueeState.dir*-1,marqueeRedux,marqueeState):marqueeRedux[marqueeState.axis]>=getReset(marqueeState.dir*-1,marqueeRedux,marqueeState);if((marqueeState.behavior=='scroll'&&marqueeState.last==marqueeRedux[marqueeState.axis])||(marqueeState.behavior=='alternate'&&hitedge&&marqueeState.last!=-1)||(marqueeState.behavior=='slide'&&hitedge&&marqueeState.last!=-1)){if(marqueeState.behavior=='alternate'){marqueeState.dir*=-1;} marqueeState.last=-1;$marqueeRedux.trigger('stop');marqueeState.loops--;if(marqueeState.loops===0){if(marqueeState.behavior!='slide'){marqueeRedux[marqueeState.axis]=getReset(marqueeState.dir,marqueeRedux,marqueeState);}else{marqueeRedux[marqueeState.axis]=getReset(marqueeState.dir*-1,marqueeRedux,marqueeState);} $marqueeRedux.trigger('end');}else{newMarqueeList.push(marqueeRedux);$marqueeRedux.trigger('start');marqueeRedux[marqueeState.axis]=getReset(marqueeState.dir,marqueeRedux,marqueeState);}}else{newMarqueeList.push(marqueeRedux);} marqueeState.last=marqueeRedux[marqueeState.axis];$marqueeRedux.data('marqueeState',marqueeState);}else{newMarqueeList.push(marqueeRedux);}} newMarquee=newMarqueeList;if(newMarquee.length){setTimeout(animateMarquee,25);}} this.each(function(i){var $marquee=$(this),width=$marquee.attr('width')||$marquee.width(),height=$marquee.attr('height')||$marquee.height(),$marqueeRedux=$marquee.after('<div '+(klass?'class="'+klass+'" ':'')+'style="display: inline-block; width: '+width+'px; height: '+height+'px; overflow: hidden;"><div style="float: left; white-space: nowrap;">'+$marquee.html()+'</div></div>').next(),marqueeRedux=$marqueeRedux.get(0),hitedge=0,direction=($marquee.attr('direction')||'left').toLowerCase(),marqueeState={dir:/down|right/.test(direction)?-1:1,axis:/left|right/.test(direction)?'scrollLeft':'scrollTop',widthAxis:/left|right/.test(direction)?'scrollWidth':'scrollHeight',last:-1,loops:$marquee.attr('loop')||-1,scrollamount:$marquee.attr('scrollamount')||this.scrollAmount||2,behavior:($marquee.attr('behavior')||'scroll').toLowerCase(),width:/left|right/.test(direction)?width:height};if($marquee.attr('loop')==-1&&marqueeState.behavior=='slide'){marqueeState.loops=1;} $marquee.remove();if(/left|right/.test(direction)){$marqueeRedux.find('> div').css('padding','0 '+width+'px');}else{$marqueeRedux.find('> div').css('padding',height+'px 0');} $marqueeRedux.bind('stop',function(){$marqueeRedux.data('paused',true);}).bind('pause',function(){$marqueeRedux.data('paused',true);}).bind('start',function(){$marqueeRedux.data('paused',false);}).bind('unpause',function(){$marqueeRedux.data('paused',false);}).data('marqueeState',marqueeState);newMarquee.push(marqueeRedux);marqueeRedux[marqueeState.axis]=getReset(marqueeState.dir,marqueeRedux,marqueeState);$marqueeRedux.trigger('start');if(i+1==last){animateMarquee();}});return $(newMarquee);};}(jQuery));
$(document).ready(function(){$('body').prepend('<div id="twitter-ticker-bar"><a href="http://twitter.com/princetonusg" title="Follow us on twitter" class="logo"><img src="http://twitcker.com/media/images/twitter-logo.jpg" alt="Twitter logo" /></a><div class="border-left"></div><marquee behavior="scroll" scrollamount="2" direction="left" height="30" width="' + $(window).width() + '"><div class="box"><a href="http://twitter.com/princetonusg/status/92709995430428672" title="17th July 2011, 23:39">Welcome Princeton class of 2015! Learn the ropes on p2015.com</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/92321070425718784" title="16th July 2011, 21:53">Whether this is your first or final year at Princeton, learn the insider tips and tricks at www.Princeton2015.com</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/87239583103852544" title="2nd July 2011, 21:21">Deadline for Combo III is in 2 weeks! Fill out the survey for a chance to win a free iPad.</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/77125088553611264" title="4th June 2011, 23:30">Did you miss Dean\'s Bake? Catch the glory here. http://fb.me/12Ua2yKxa</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/77124804855078912" title="4th June 2011, 23:29">COMBO III\'s results will help us make Princeton a better place next year. But if that isn\'t enough, completing the... http://fb.me/OizHYwfY</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/77124112023166976" title="4th June 2011, 23:26">The COMBO III survey is live. If helping Princeton isn\'t enough, complete it for the chance to win a free iPad! http://j.mp/kMBflj</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/77123074553688064" title="4th June 2011, 23:22">miss Dean\'s Bake? Catch it here http://j.mp/kvyNd7</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/69116069004058624" title="13th May 2011, 21:05">Free movies for the semester are now over.  We\'ll have new ones again in the fall.</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/65562882053648384" title="4th May 2011, 01:46">http://www.princeton.edu/reports/2011/campuslife/The U released a report on social and residential life.  What... http://fb.me/ZBhCS2D7</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/65562335384842240" title="4th May 2011, 01:44">http://www.princeton.edu/reports/2011/campuslife/The U released a report on social and residential life.  What... http://fb.me/TXLi9h0Z</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/64697536862109696" title="1st May 2011, 16:27">ZOMG, it\'s lawnparties!  See you this afternoon in the backyard of Quad for the USG concert!</a></div><div class="box"><a href="http://twitter.com/princetonusg/status/64033432002510848" title="29th April 2011, 20:28">Come to the USG office to sample the three winning cakes from the Dean\'s Bake competition. http://fb.me/IJ2HscMr</a></div></marquee><div class="border-right"></div></div><div id="twitter-ticker-hide">Hide</div><div id="twitter-ticker-offset"></div>');$('#twitter-ticker-bar').hide().fadeIn('slow');$('#twitter-ticker-hide').click(function(){if($('#twitter-ticker-bar').is(':hidden')){$('#twitter-ticker-hide').text('Hide').animate({top:'30px'},'slow');$('#twitter-ticker-offset').slideDown('slow');$('#twitter-ticker-bar').slideDown('slow', function(){$('#twitter-ticker-bar a img, #twitter-ticker-bar .border-left, #twitter-ticker-bar .border-right').fadeIn('fast');});}else{$('#twitter-ticker-hide').text('Show').delay(210).animate({top:'0px'},'slow');$('#twitter-ticker-offset').delay(200).slideUp(600);$('#twitter-ticker-bar a img, #twitter-ticker-bar .border-left, #twitter-ticker-bar .border-right').fadeOut('fast',function(){$('#twitter-ticker-bar').slideUp('slow');});}});$('marquee').marquee('wrapper');$('#twitter-ticker-bar .box').mouseover(function(){$(this).trigger('stop');}).mouseout(function(){$(this).trigger('start');});$(window).resize(function(){$('#twitter-ticker-bar div.wrapper').width($(window).width());});});}
