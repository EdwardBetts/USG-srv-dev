{% extends "wintersession/base.html" %}
{% load render_table from django_tables2 %}

{% block head %}
<title>Instructor - Wintersession 2014</title>
{% endblock %}

{% block menu %}
		<li id='pg721251121132996039'><a href='{% url 'wintersession:home' %}'>Home</a></li>
		<li id='pg263206575262786359'><a href='{% url 'wintersession:courses' %}'>Courses</a></li>
		<li id='active'><a href='{% url 'wintersession:enroll' %}'>Enroll</a></li>
		<li id='pg276867464249989051'><a href='{% url 'wintersession:teach' %}'>Teach</a></li>
		<li id='pg373026107483497366'><a href='{% url 'wintersession:about' %}'>About</a></li>
{% endblock %}

{% block content %}

<p>Welcome to your instructor detail page, <strong> {{ user_name }}. </strong> </p>

<p> Table of the courses you're teaching </p>

{% render_table course_table %}

<p> Rosters and attendance for each course </p>

{% comment %}

{% for course, registration_table in registration_tables.items %}
	<h3> {{course}} </h3>
	{% render_table registration_table %}	
{% endfor %}

<br />

{% endcomment %}

{% for course, formset in attendance_formsets.items %}
<h3> {{course}} </h3>
<br />
<div class="table-container">
<form action="{% url 'wintersession:instructor' %}" method="post">{% csrf_token %}
{{ formset.0.management_form }}
{{ formset.0.non_form_errors.as_ul }}
<table id="formset" class="paleblue" align="center">
{% for student, form in formset.1 %}
  {% if forloop.first %}
  <thead><tr>
  	<th>netID</th>
  	<th>First</th>
  	<th>Last</th>
    {% for field in form.visible_fields %}
    <th>{{ field.label }}</th>
    {% endfor %}
  </tr></thead>
  {% endif %}
  <tr class="{% cycle odd,even %}">
  	<td>{{student.netID}}</td>
  	<td>{{student.first_name}}</td>
  	<td>{{student.last_name}}</td>
  {% for field in form.visible_fields %}
    <td>
    {# Include the hidden fields in the form #}
    {% if forloop.first %}
      {% for hidden in form.hidden_fields %}
      {{ hidden }}
      {% endfor %}
    {% endif %}
      {{ field.errors.as_ul }}
      {{ field }}
    </td>
  {% endfor %}
  </tr>
  {% if forloop.last %}
  </table>
  <ul class="pagination">
  <li class="cardinality">{{ forloop.counter }} registrations</li></ul></div>
  {% endif %}
{% endfor %}
<br />
<input type="submit" value="Submit Attendance" />
</form>
<br />
<br />

{% endfor %}
<br />
<br />
<br />
<br />
{% endblock %}
